<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="MobileOptimized" content="176" />
    <meta name="HandheldFriendly" content="True" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <meta name="theme-color" content="#000000" />

    <link rel="stylesheet" href="./global.css" />
    <link rel="stylesheet" href="./convo.css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Autour One:wght@400&display=swap" />

    <style>
      @font-face {
        font-family: "Xtra";
        src: url("./public/Xtra.ttf");
        font-weight: 400;
      }
      @font-face {
        font-family: "GemFont One";
        src: url("./public/GemFont One.ttf");
        font-weight: 400;
      }
      @font-face {
        font-family: "Greek-Freak";
        src: url("./public/Greek-Freak.ttf");
        font-weight: 400;
      }
      @font-face {
        font-family: "Greek";
        src: url("./public/Greek-Regular.ttf");
        font-weight: 400;
      }
      @font-face {
        font-family: "Augusta";
        src: url("./public/Augusta.ttf");
        font-weight: 400;
      }
    </style>
  </head>
  <body>
    <div class="convo1">
      <!-- Background Music -->
      <audio id="bgMusic" loop>
        <source src="./public/music.mp3" type="audio/mpeg">
      </audio>

      <img
        class="throneroom-1-icon1"
        alt=""
        src="./public/throneroom-1@2x.png"
      />

      <img
        class="soti1111-greek-trireme-sailing-icon1"
        alt=""
        src="./public/soti1111-greek-trireme-sailing-away-from-burning-troy-ar-5191-52affaba18774b91820c6b542e6e16ca@2x.png"
      />

      <section class="menu">
        <div class="buttons">
          <img
            class="back-button-icon1"
            loading="lazy"
            alt=""
            src="./public/back-button@2x.png"
            onclick="history.back()"
          />
        </div>
        <div class="prologue1">
          <div class="prologue2">prologue</div>
        </div>
        <div class="buttons">
          <img
            class="back-button-icon1"
            loading="lazy"
            alt=""
            src="./public/settings-button@2x.png"
            onclick="document.getElementById('settings-panel').style.display = 'block'"
          />
        </div>
      </section>

      <section class="title">
        <div class="ten-years-of-war-one-night-of-wrapper">
          <div class="ten-years-of">
            Ten years of war. One night of cunning. Troy burns, but the journey
            has just begun. The gods are watching, and fate awaits. Will you
            seize the opportunities ahead and return to Ithacaâ€”safe and rich?
          </div>
        </div>
        <div class="frame-group">
          <div class="frame-wrapper">
            <a href="./convoa.html" class="button-group">
              <div class="continue">Continue</div>
            </a>
          </div>
          <footer class="lower-menu">
            <div class="store">
              <a href="./referral.html" class="shop">
                <img
                  class="shop-icon1"
                  loading="lazy"
                  alt=""
                  src="./public/shop-icon@2x.png"
                />
                <div class="referral1">Referral</div>
              </a>
            </div>
            <div class="progress">
              <a href="./convo3.html" class="button-container">
                <div class="continue">Skip</div>
              </a>
              <div class="tasks">
                <a href="./quest.html" class="mission">
                  <img
                    class="quest-icom-icon1"
                    loading="lazy"
                    alt=""
                    src="./public/quest-icom@2x.png"
                  />
                  <div class="quests1">Quests</div>
                </a>
              </div>
            </div>
            <a href="./leader-board.html" class="achievements">
              <img
                class="trophy-icon1"
                loading="lazy"
                alt=""
                src="./public/trophy-icon@2x.png"
              />
              <div class="leaderboard1">Leaderboard</div>
            </a>
          </footer>
        </div>
      </section>

      <!-- Settings Panel -->
      <div id="settings-panel" class="settings-panel" style="display: none;">
        <div class="settings-content">
          <h3>Settings</h3>
          <div class="volume-control">
            <label for="volume">Music Volume:</label>
            <input 
              type="range" 
              id="volume" 
              min="0" 
              max="1" 
              step="0.1" 
              value="0.5"
              onchange="document.getElementById('bgMusic').volume = this.value"
            >
          </div>
          <button onclick="document.getElementById('settings-panel').style.display = 'none'">Close</button>
        </div>
      </div>
    </div>

    <script>
      document.addEventListener('DOMContentLoaded', function() {
        // Handle Telegram WebApp initialization
        if (window.Telegram && window.Telegram.WebApp) {
          const webapp = window.Telegram.WebApp;
          webapp.ready();
          webapp.expand();

          // Set Telegram theme color
          document.documentElement.style.setProperty('--tg-theme-bg-color', webapp.backgroundColor);
          document.documentElement.style.setProperty('--tg-theme-text-color', webapp.textColor);
        }

        // Start background music
        const bgMusic = document.getElementById('bgMusic');
        bgMusic.volume = 0.5;
        bgMusic.play().catch(function(error) {
          console.log("Audio autoplay failed:", error);
        });

        // Prevent zooming
        document.addEventListener('gesturestart', function(e) {
          e.preventDefault();
        });

        // Prevent default touch behaviors
        document.addEventListener('touchmove', function(e) {
          e.preventDefault();
        }, { passive: false });

        // Add active state for buttons
        const buttons = document.querySelectorAll('a, .buttons img');
        buttons.forEach(button => {
          button.addEventListener('touchstart', function() {
            this.style.transform = 'scale(0.95)';
          });
          button.addEventListener('touchend', function() {
            this.style.transform = 'scale(1)';
          });
        });
      });
    </script>
  </body>
</html>
